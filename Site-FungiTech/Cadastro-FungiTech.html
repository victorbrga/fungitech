<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!--Link para o CSS-->
    <link rel="stylesheet" href="CSS-FungiTech.css">

    <!--Link para a fonte importada da Google-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

    <title>FungiTech | Login</title>
</head>

<body class="cadastro">

    <!--Header-->
    <header class="header">
        <div>
            <div> <!--Logo da Empresa-->
                <a href=""> <img class="logo" src="img/LogoFungiTech.png" alt="Logo FungiTech"> </a>
            </div>

            <div class="link"> <!--Ir para página inicial-->
                <a href="Home-FungiTech.html">Voltar para a página inicial</a>
            </div>

            <div class="link"> <!--Ir para o simulador financeiro-->
                <a href="Simulador-FungiTech.html">Simulador</a>
            </div>

            <div class="link"> <!--Ir para Tela de Cadastro-->
                <a href="Cadastro-FungiTech.html">Cadastre-se</a>
            </div>

            <div class="link"> <!--Ir para Tela de Login-->
                <a href="Login-FungiTech.html">Entrar</a>
            </div>
        </div>
    </header>



    <!--Conteúdo do Site-->
    <center>
        <div class="tela">
            <div class="cartaoSelecao">

                <h2>Bem-vindo!</h2>
                <h3>O que deseja cadastrar?</h3>

                <select id="selectCadastro" onchange="selecionar()">
                    <option value="empresa" selected>EMPRESA</option>
                    <option value="funcionario">FUNCIONÁRIO</option>
                </select>
            </div>

            <div id="divFuncionario"></div>

            <div id="divEmpresa">
            <div class="cartaoEmpresa">
                <div class="formulario">

                    <div class="campo">
                        <label>Razão Social:</label>
                        <input type="text" placeholder="Informe a Razão Social" id="inputRazaoSocial">
                    </div>

                    <br>

                    <div class="campo">
                        <label>Nome Fantasia:</label>
                        <input type="text" placeholder="Informe o Nome Fantasia" id="inputNomeFantasia">
                    </div>

                    <br>

                    <div class="campoNumero">
                        <label>CNPJ:</label>
                        <input type="number" placeholder="Informe seu CNPJ" id="inputCNPJEmpresa">
                    </div>

                    <br>

                    <div class="campo">
                        <label>Logradouro:</label>
                        <input type="text" placeholder="Insira o logradouro" id="inputLogradouro">
                    </div>

                    <br>

                    <div class="campoNumero">
                        <label>CEP:</label>
                        <input type="number" placeholder="Informe o CEP da região" id="inputCEP">
                    </div>

                    <button onclick="cadastrarEmpresa()">Cadastrar</button>
                </div>
            </div>
        </div>
    </center>



    <!--Footer-->
    <footer class="footer">
        <div>
            <p>Copyright © 2024 - Todos os direitos reservados</p>
        </div>
    </footer>

</body>

</html>

<script>
    function selecionar() {
        var opcao = selectCadastro.value;

        divFuncionario.innerHTML = ``;
        divEmpresa.innerHTML = ``;

        if (opcao == `empresa`) {
            divFuncionario.innerHTML = ``;
            divEmpresa.innerHTML = `
        <div class="cartaoEmpresa">
            <div class="formulario">

                <div class="campo">
                    <label>Razão Social:</label>
                    <input type="text" placeholder="Informe a Razão Social" id="inputRazaoSocial">
                </div> 
                
                <br>

                <div class="campo">
                    <label>Nome Fantasia:</label>
                    <input type="text" placeholder="Informe o Nome Fantasia" id="inputNomeFantasia">
                </div> 

                <br>

                <div class="campoNumero">
                    <label>CNPJ:</label>
                    <input type="number" placeholder="Informe seu CNPJ" id="inputCNPJEmpresa">
                </div> 

                <br>

                <div class="campo">
                    <label>Logradouro:</label>
                    <input type="text" placeholder="Insira o logradouro" id="inputLogradouro">
                </div>

                <br>

                <div class="campoNumero">
                    <label>CEP:</label>
                    <input type="number" placeholder="Informe o CEP da região" id="inputCEP">
                </div> 

            <button onclick="cadastrarEmpresa()">Cadastrar</button>
        </div>
    </div>`;
        }



        if (opcao == `funcionario`) {
            divEmpresa.innerHTML = ``;
            divFuncionario.innerHTML = `
    <div class="cartaoFuncionario">
        <div class="formulario">
            
            <div class="campo">
                <label>Nome:</label>
                <input type="text" placeholder="Informe seu nome completo" id="inputNome">
            </div> 
 
            <br>

            <div class="campoNumero">
                <label>CPF:</label>
                <input type="number" placeholder="Informe seu CPF" id="inputCPF">
            </div>

            <br>

            <div class="campoNumero">
                <label>CNPJ:</label>
                <input type="number" placeholder="Informe o CNPJ da empresa" id="inputCNPJFuncionario">
            </div> 

            <br>

            <div class="campo">
                <label>E-mail:</label>
                <input type="text" placeholder="Informe seu e-mail" id="inputEmail">
            </div> 

            <br>

            <div class="campo">
                <label>Senha:</label>
                <input type="password" placeholder="Digite sua senha" id="inputSenha">
            </div> 

            <br>

            <div class="campo">
                <label>Confirme sua Senha:</label>
                <input type="password" placeholder="Confirme sua senha" id="inputConfirmacao">
            </div>

            <button onclick="cadastrarFuncionario()">Cadastrar</button>
        </div>
    </div>`;
        }
    }

    function cadastrarEmpresa() {
        // Declaração das variáveis das inputs
        var razaoSocial = inputRazaoSocial.value;
        var nomeFantasia = inputNomeFantasia.value;
        var cnpjEmpresa = inputCNPJEmpresa.value;
        var logradouro = inputLogradouro.value;
        var cep = inputCEP.value;

        // Criação de váriaveis para auxiliar as validações  
        // Validação da Razão Social (até 144 caracteres de acordo com a lei)
        var tamanhoRazaoSocial = (razaoSocial.length > 0) && (razaoSocial.length <= 144);

        // Validação do Nome Fantasia (até 60 caracteres de acordo com a lei)
        var tamanhoNomeFantasia = (nomeFantasia.length > 0) && (razaoSocial.length <= 60);

        // Validar CNPJ (14 caracteres, apenas numeros)
        var cnpjEmpresaNumerico = (cnpjEmpresa.indexOf('.')  < 0) || (cnpjEmpresa.indexOf('-') < 0) || (cnpjEmpresa.indexOf('+') < 0) || (cnpjEmpresa.indexOf('e') < 0);
        var tamanhoCNPJEmpresa = cnpjEmpresa.length == 14;

        // Validar Logradouro (campo não pode estar vazio)
        var tamanhoLogradouro = logradouro.length > 0

        // Validar CEP (8 caracteres, sem traço)
        var cepNumerico = (cep.indexOf('.')  < 0) || (cep.indexOf('-') < 0) || (cep.indexOf('+') < 0) || (cep.indexOf('e') < 0);
        var tamanhoCEP = cep.length == 8;
        

        // Conferir se as validações são verdadeiras
        // Validar Razão Social
        if(tamanhoRazaoSocial == false){
            alert(`Insira uma razão social válida`);
        }

        // Validar Nome Fantasia
        if(tamanhoNomeFantasia == false){
            alert(`Insira um nome fantasia válido`);
        }

        //Validar CNPJ
        if (tamanhoCNPJEmpresa == false || cnpjEmpresaNumerico == false) {
            alert(`O CNPJ está incorreto`)
        }

        // Validar Logradouro
        if(tamanhoLogradouro == false){
            alert(`O campo Logradouro é obrigatório`);
        }

        // Validar CEP
        if(tamanhoCEP == false || cepNumerico == false){
            alert(`Informe um CEP válido`);
        }
    }

    function cadastrarFuncionario() {
        // Declaração das variáveis das inputs
        var nome = inputNome.value;
        var cpf = inputCPF.value;
        var cnpjFuncionario = inputCNPJFuncionario.value;
        var email = inputEmail.value;
        var senha = inputSenha.value;
        var confirmacao = inputConfirmacao.value;

        // Criação de váriaveis para auxiliar as validações
        // Validações do campo nome (Maior ou igual a 3 caracteres e com espaço)
        var tamanhoNome = nome.length >= 3;
        var nomeCompleto = nome.indexOf(' ') >= 0;

        // Validações dos campos CPF e CNPJ (igual a 11 e 14 caracteres, apenas numeros)
        var cnpjFuncionarioNumerico = (cnpjFuncionario.indexOf('.')  < 0) || (cnpjFuncionario.indexOf('-') < 0) || (cnpjFuncionario.indexOf('+') < 0) || (cnpjFuncionario.indexOf('e') < 0);
        var cpfNumerico = (cpf.indexOf('.')  < 0) || (cpf.indexOf('-') < 0)|| (cpf.indexOf('+') < 0) || (cpf.indexOf('e') < 0);
        var tamanhoCPF = cpf.length == 11;
        var tamanhoCNPJFuncionario = cnpjFuncionario.length == 14;

        // Validação do email (precisa ter @ e ., maximo de 320 caracteres, sendo 64 antes e 255 depois do @)
        var emailValido = (email.indexOf('@') >= 0) && (email.indexOf('.') >= 0);
        if (emailValido) {
            var posicaoArroba = email.indexOf('@');
            var tamanhoEmailTotal = email.length <= 319;
            var tamanhoAntes = posicaoArroba <= 64;
            var tamanhoDepois = (posicaoArroba - email.length) <= 254
        }


        // Validação da senha (Maior ou igual a 8, com uma maiuscula, minuscula, numero e caractere especial)
        var tamanhoSenha = senha.length >= 8;

        var senhaEspecial = (senha.indexOf('!') >= 0) ||
            (senha.indexOf('@') >= 0) ||
            (senha.indexOf('#') >= 0) ||
            (senha.indexOf('$') >= 0) ||
            (senha.indexOf('%') >= 0) ||
            (senha.indexOf('&') >= 0) ||
            (senha.indexOf('*') >= 0) ||
            (senha.indexOf('?') >= 0) ||
            (senha.indexOf('_') >= 0);

        var senhaMaiuscula = (senha.indexOf('A') >= 0) ||
            (senha.indexOf('B') >= 0) ||
            (senha.indexOf('C') >= 0) ||
            (senha.indexOf('D') >= 0) ||
            (senha.indexOf('E') >= 0) ||
            (senha.indexOf('F') >= 0) ||
            (senha.indexOf('G') >= 0) ||
            (senha.indexOf('H') >= 0) ||
            (senha.indexOf('I') >= 0) ||
            (senha.indexOf('J') >= 0) ||
            (senha.indexOf('K') >= 0) ||
            (senha.indexOf('L') >= 0) ||
            (senha.indexOf('M') >= 0) ||
            (senha.indexOf('N') >= 0) ||
            (senha.indexOf('O') >= 0) ||
            (senha.indexOf('P') >= 0) ||
            (senha.indexOf('Q') >= 0) ||
            (senha.indexOf('R') >= 0) ||
            (senha.indexOf('S') >= 0) ||
            (senha.indexOf('T') >= 0) ||
            (senha.indexOf('U') >= 0) ||
            (senha.indexOf('V') >= 0) ||
            (senha.indexOf('W') >= 0) ||
            (senha.indexOf('X') >= 0) ||
            (senha.indexOf('Y') >= 0) ||
            (senha.indexOf('Z') >= 0) ||
            (senha.indexOf('Ç') >= 0);

        var senhaMinuscula = (senha.indexOf('a') >= 0) ||
            (senha.indexOf('b') >= 0) ||
            (senha.indexOf('c') >= 0) ||
            (senha.indexOf('d') >= 0) ||
            (senha.indexOf('e') >= 0) ||
            (senha.indexOf('f') >= 0) ||
            (senha.indexOf('g') >= 0) ||
            (senha.indexOf('h') >= 0) ||
            (senha.indexOf('i') >= 0) ||
            (senha.indexOf('j') >= 0) ||
            (senha.indexOf('k') >= 0) ||
            (senha.indexOf('l') >= 0) ||
            (senha.indexOf('m') >= 0) ||
            (senha.indexOf('n') >= 0) ||
            (senha.indexOf('o') >= 0) ||
            (senha.indexOf('p') >= 0) ||
            (senha.indexOf('q') >= 0) ||
            (senha.indexOf('r') >= 0) ||
            (senha.indexOf('s') >= 0) ||
            (senha.indexOf('t') >= 0) ||
            (senha.indexOf('u') >= 0) ||
            (senha.indexOf('v') >= 0) ||
            (senha.indexOf('w') >= 0) ||
            (senha.indexOf('x') >= 0) ||
            (senha.indexOf('y') >= 0) ||
            (senha.indexOf('z') >= 0) ||
            (senha.indexOf('ç') >= 0);

        var senhaNumeros = (senha.indexOf('0') >= 0) ||
            (senha.indexOf('1') >= 0) ||
            (senha.indexOf('2') >= 0) ||
            (senha.indexOf('3') >= 0) ||
            (senha.indexOf('4') >= 0) ||
            (senha.indexOf('5') >= 0) ||
            (senha.indexOf('6') >= 0) ||
            (senha.indexOf('7') >= 0) ||
            (senha.indexOf('8') >= 0) ||
            (senha.indexOf('9') >= 0);

        var caracteresBloquados = (senha.indexOf(' ') < 0) &&
            (senha.indexOf('"') < 0) &&
            (senha.indexOf("'") < 0) &&
            (senha.indexOf('`') < 0) &&
            (senha.indexOf('^') < 0) &&
            (senha.indexOf('´') < 0) &&
            (senha.indexOf('~') < 0) &&
            (senha.indexOf(',') < 0) &&
            (senha.indexOf('ã') < 0) &&
            (senha.indexOf('Ã') < 0) &&
            (senha.indexOf('â') < 0) &&
            (senha.indexOf('Â') < 0) &&
            (senha.indexOf('á') < 0) &&
            (senha.indexOf('Á') < 0) &&
            (senha.indexOf('à') < 0) &&
            (senha.indexOf('À') < 0) &&
            (senha.indexOf('õ') < 0) &&
            (senha.indexOf('Õ') < 0) &&
            (senha.indexOf('ô') < 0) &&
            (senha.indexOf('Ô') < 0) &&
            (senha.indexOf('ó') < 0) &&
            (senha.indexOf('Ó') < 0) &&
            (senha.indexOf('Ò') < 0) &&
            (senha.indexOf('ò') < 0) &&
            (senha.indexOf('í') < 0) &&
            (senha.indexOf('Í') < 0) &&
            (senha.indexOf('ì') < 0) &&
            (senha.indexOf('Ì') < 0) &&
            (senha.indexOf('î') < 0) &&
            (senha.indexOf('Î') < 0) &&
            (senha.indexOf('ĩ') < 0) &&
            (senha.indexOf('Ĩ') < 0) &&
            (senha.indexOf('ú') < 0) &&
            (senha.indexOf('Ú') < 0) &&
            (senha.indexOf('ù') < 0) &&
            (senha.indexOf('Ù') < 0) &&
            (senha.indexOf('ũ') < 0) &&
            (senha.indexOf('Ũ') < 0) &&
            (senha.indexOf('û') < 0) &&
            (senha.indexOf('Û') < 0) &&
            (senha.indexOf('é') < 0) &&
            (senha.indexOf('É') < 0) &&
            (senha.indexOf('è') < 0) &&
            (senha.indexOf('È') < 0) &&
            (senha.indexOf('ẽ') < 0) &&
            (senha.indexOf('Ẽ') < 0) &&
            (senha.indexOf('ê') < 0) &&
            (senha.indexOf('Ê') < 0) &&
            (senha.indexOf('ñ') < 0) &&
            (senha.indexOf('Ñ') < 0) &&
            (senha.indexOf(';') < 0) &&
            (senha.indexOf('°') < 0) &&
            (senha.indexOf('/') < 0) &&
            (senha.indexOf('º') < 0) &&
            (senha.indexOf('ª') < 0) &&
            (senha.indexOf('{') < 0) &&
            (senha.indexOf('}') < 0) &&
            (senha.indexOf('[') < 0) &&
            (senha.indexOf(']') < 0) &&
            (senha.indexOf('+') < 0) &&
            (senha.indexOf('-') < 0) &&
            (senha.indexOf('=') < 0) &&
            (senha.indexOf('§') < 0) &&
            (senha.indexOf('>') < 0) &&
            (senha.indexOf('<') < 0) &&
            (senha.indexOf('(') < 0) &&
            (senha.indexOf(')') < 0) &&
            (senha.indexOf('ü') < 0) &&
            (senha.indexOf('Ü') < 0) &&
            (senha.indexOf('¨') < 0) &&
            (senha.indexOf('¬') < 0) &&
            (senha.indexOf('¢') < 0) &&
            (senha.indexOf('£') < 0) &&
            (senha.indexOf('³') < 0) &&
            (senha.indexOf('²') < 0) &&
            (senha.indexOf('¹') < 0) &&
            (senha.indexOf('|') < 0) &&
            (senha.indexOf('ö') < 0) &&
            (senha.indexOf('Ö') < 0) &&
            (senha.indexOf('ä') < 0) &&
            (senha.indexOf('Ä') < 0) &&
            (senha.indexOf('ï') < 0) &&
            (senha.indexOf('Ï') < 0) &&
            (senha.indexOf('ë') < 0) &&
            (senha.indexOf('Ë') < 0) &&
            (senha.indexOf(':') < 0);

        // Conferir se as validações são verdadeiras
        var validacaoCampos = 0
        // Validar o nome
        if ((tamanhoNome && nomeCompleto) == false) {
            alert(`O campo nome está incorreto, tente novamente`);
        } else {
            validacaoCampos = validacaoCampos + 1;
        }

        // Validar o CPF
        if (tamanhoCPF == false || cpfNumerico == false) {
            alert(`O CPF está incorreto`)
        } else {
            validacaoCampos = validacaoCampos + 1;
        }

        // Validar o CNPJ
        if (tamanhoCNPJFuncionario == false || cnpjFuncionarioNumerico == false) {
            alert(`O CNPJ está incorreto`)
        } else {
            validacaoCampos = validacaoCampos + 1;
        }

        // Validar o Email
        if (emailValido == false ||
        tamanhoAntes == false ||
        tamanhoDepois == false ||
        tamanhoEmailTotal == false) {
            alert(`Email incorreto, insira um email existente`)
        } else {
            validacaoCampos = validacaoCampos + 1;
        }

        //Validar a senha (Apenas se os outros campos estiverem corretos)
        var validacaoSenha = 0

        if (validacaoCampos == 4) {
            if (tamanhoSenha == false) {
                alert(`Sua senha é pequena demais`);
            } else {
                if (senhaEspecial == false) {
                    alert(`Sua senha precisa ter no minimo um caracter especial`)
                } else {
                    validacao = validacao + 1
                }

                if (senhaMaiuscula == false) {
                    alert(`Sua senha precisa ter no minimo uma letra maiuscula`)
                } else {
                    validacao = validacao + 1
                }

                if (senhaMinuscula == false) {
                    alert(`Sua senha precisa ter no minimo uma letra minuscula`)
                } else {
                    validacao = validacao + 1
                }

                if (senhaNumeros == false) {
                    alert(`Sua senha precisa ter no minimo um numero`)
                } else {
                    validacao = validacao + 1
                }
            }
        }

        // Validar a senha de confirmação (apenas após a senha inserida estar validada)
        if (validacaoSenha == 4) {

            if (confirmacao == senha) {
                alert(`cadastro concluido`)
            } else {
                alert(`Sua senha de confirmação não é igual a senha informada`)
            }
        }

    }
</script>

<!-- window.location.href = "https://www.google.com" -->