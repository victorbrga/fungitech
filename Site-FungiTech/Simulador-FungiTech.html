<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="CSS-FungiTech.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <title>FungiTech|Simulador Financeiro</title>
</head>

<body class="simulador">
    <header id="head">
        <div>
            <div>
                <a href="Home-FungiTech.html" onclick="window.scrollTo(0, 0);" style="text-decoration: none;">
                    <img class="logo" src="img/LogoFungiTech.png" alt="">
                </a>
            </div>

            <div class="link">
                <a href="Home-FungiTech.html">Voltar para a página inicial</a>
            </div>

            <div class="link">
                <a href="#">Fale com o COGU</a>
            </div>

            <div>
                <a href="Home-FungiTech.html"><img src="https://cdn.icon-icons.com/icons2/2199/PNG/512/mushrooms_icon_133974.png"
                        alt="logo"></a>
            </div>
        </div>
    </header>

    <center>
        <div class="calculadora">
            <h1>Simulador Financeiro FungiTech</h1>
            <div class="inputs">
                Qual é a produção mensal:<input type="number" id="inputProducao" placeholder="Produção mensal (em kg)">
                <br>
                Qual é o preço vendido por Kilo: <input type="number" id="inputPreco" placeholder="Preço por (Kg)"> <br>
                Qual é o valor investido na produção: <input type="number" id="inputInvestimento"
                    placeholder="Valor Investido mensalmente (R$)"> <br>
                Qual é a perda percentual da produção: <input type="number" id="inputPerda"
                    placeholder="Perda Percentual mensal (%)"><br>

            </div>
            <button onclick="calcular()">Calcular</button><br>
        </div>
        <div class="calculadora-mensagem">
            <div id="mensagemMercado" class="result"></div>
            <div id="mensagemCliente" class="result"></div>
            <div id="mensagemComparacao" class="result"></div>
        </div>

        <footer>
            <div class="last">
                <br>
                <p>Copyright © 2024 - Todos os direitos reservados</p>
                <br>
            </div>
        </footer>

</body>
</center>

</html>
<script>
    function calcular() {
        var producao = Number(inputProducao.value); // Produção mensal do produtor de cogumelo
        var precoVenda = Number(inputPreco.value); // Preço que o cliente vende por kilo do cogumelo
        var investimento = Number(inputInvestimento.value); // Valor investido na produção 
        var perda = Number(inputPerda.value); // Perda percentual do produtor

        // valores do mercado
        var precoMercado = 27; // Preço do kilo do cogumelo no mercado 
        var perdaMercado = 0.2; // O produtor perde 20% da produção em kg
        var totalVendido = producao * (1 - perdaMercado); // Lucro de apenas 80% da produção total em kg
        var lucroSemPerda = producao * precoMercado; // Lucro da produção total em R$
        var lucroComPerda = totalVendido * precoMercado; // Lucro de apenas 80% da produção total em R$
        var perdaMensal = (producao * perdaMercado) * 27; // Perda de dinheiro mensal
        var perdaAnual = perdaMensal * 12; // Perda de dinheiro anual
        var lucroTotal = lucroSemPerda - investimento; // 

        // valores do cliente
        var perdaCliente = perda / 100; // Transformar a perda em porcentagem 
        var vendaTotal = producao * (1 - perdaCliente); // Lucro da produção que não foi perdida em kg 
        var lucroPerdaCliente = vendaTotal * precoVenda; // Lucro da produção se o produtor vender o kg de acordo com o seu preço
        var perdaMensalP = (producao * perdaCliente) * precoVenda; // Perda de dinheiro mensal
        var perdaAnualP = perdaMensalP * 12; // Perda de dinheiro anual
        var lucroCliente = producao * precoVenda; // Para saber o lucro do cliente com o preço vendido por kilo
        var lucroLiq = (lucroCliente - investimento); // 

        mensagemMercado.style.display = "block";
        mensagemCliente.style.display = "block";
        mensagemComparacao.style.display = "block";

        // Valores do mercado
        mensagemMercado.innerHTML = `<h3>Valores do Mercado:</h3>` +
            `<p>Preço por Kilo: <b>R$${precoMercado}</b></p>` +
            `<p>Perda Percentual: <b>` + (perdaMercado * 100) + `%</b></p>` +
            `<p>Lucro Mensal sem Perda: <b>R$${lucroSemPerda}</b></p>` +
            `<p>Lucro Mensal com Perda: <b>R$${lucroComPerda}</b></p>` +
            `<p>Perda Mensal: <b>R$${perdaMensal}</b></p>` +
            `<p>Perda Anual: <b>R$${perdaAnual}</b></p>`;

        // Valores do cliente
        mensagemCliente.innerHTML = `<h3>Valores do Cliente:</h3>` +
            `<p>Lucro Mensal: <b class="positivo">R$${lucroPerdaCliente}</b></p>` +
            `<p>Perda Mensal: <b class="negativo">R$${perdaMensalP}</b></p>` +
            `<p>Perda Anual: <b class="negativo">R$${perdaAnualP}</b></p>` +
            `<p>Lucro Líquido: <b class="positivo">R$${lucroLiq}</b></p>`;

        // Comparação
        var comparacao = (perdaMensal - perdaMensalP) / 100
        var comparacao2 = (perdaMensalP - perdaMensal) / 100
        var comparacao3 = (lucroTotal - lucroLiq) / 100
        var comparacao4 = (lucroLiq - lucroTotal) / 100
        if (perdaMensal > perdaMensalP) {
            mensagemComparacao.innerHTML = `<h4 class="positivo">Sua perda foi menor que a do mercado em ${comparacao}%</h4>`;
        } else {
            mensagemComparacao.innerHTML = `<h4 class="negativo">Sua perda foi maior que a do mercado em ${comparacao2}%</h4>`;
        }
        if (lucroTotal > lucroLiq) {
            mensagemComparacao.innerHTML += `<br> <h4 class="negativo">Seu lucro foi inferior ao do mercado em ${comparacao3}%</h4>`;
        } else {
            mensagemComparacao.innerHTML += `<br><h4 class="positivo"> Seu lucro foi superior ao do mercado em ${comparacao4}%</h4>`;
        }
    }
</script>